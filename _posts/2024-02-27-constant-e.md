---
layout: post
title:  "자연상수 e"
date:   2024-02-27 18:53:00 +0900
categories: CS
comments: true
---
# 개요
자연로그($ln(x)$) 가 자주 보여서 공부해보았다.  
자연로그를 알려면 자연상수 e를 알아야한단다.  
자연상수 e를 알려면 적분을 알아야하고, 적분을 알려면 미분을 알아야하고,  
미분을 하려면 극한을 알아야한단다 ㅡㅡ  

그래서 그냥 이것저것 모르는 것들은 배우면서 자연상수 $e$를 유도해 보았다.

# e의 정의
일단 이자가 100%인 경우가 있다고 생각해보자.  
이 경우에는 원금 1원을 넣으면 1년 후 2원이 된다.  

만약 여기서 6개월마다 이자를 복리로 받는다면 어떻게 될까?  
원금 1원을 넣고 6개월 후 이자로 0.5원을 받는다.  
이자를 포함한 1.5원을 다시 넣어두면 6개월 후에는 2.25원이 된다.  

그렇다면 3개월마다 이자를 복리로 받는다면 어떻게 될까?  
혹은 1일마다 이자를 복리로 받는다면?  

이런식으로 이자를 받는 간격을 무한히 줄이면 받는 돈이 무한히 많아지는 것은 아니고,  
어떠한 값에 수렴한다.  
이를 자연상수 $e$라고 정의한다.  

# 유도 과정
일단 이를 식으로 표현해보자.  
원금 1원에 이자를 1년에 동일한 간격으로 무한히 많은 $n$번 받는다고 하자.  

$
\Large 
e = \lim\limits_{n \to \infty} (1 + \frac{1}{n})^n
$

이게 e의 정의이다.  

하지만 제대로 이해하기 위해서 이를 함수 그래프로 생각해보자.  

$\bf \{f(x) = 1\}$   

![](./image.png =200x200)  
원금에 대한 그래프는 위와 같이 상수 함수로 표현할 수 있다.  
그리고 이 원금에 대한 이자는 이 그래프의 넓이를 구하는 식으로 표현할 수 있을 것이다.   


$\bf \{y = x\}$  

![](image-1.png =200x200)  
y = 1 그래프를 아주 잘게 쪼갠다면 x가 증가할 때마다 넓이가 x만큼 증가한다고 볼 수 있으므로  
넓이에 대한 그래프는 y = x로 표현할 수 있다.  

1년에 한 번 이자를 받는다면 위 그래프대로 1,  
6개월에 받는다면 0.5x 시점인 0.5를 받을 것이다.  
 
여기서, 복리는 이 1차적인 이자에 대한 이자를 받는 것이므로,  
이 그래프의 넓이를 구하면 이 이자에 대한 이자의 그래프가 될 것이다.  
그래프의 넓이는 삼각형이므로 $y = \frac{x^2}{2}$로 표현할 수 있다.  

$\bf \{y = \frac{x^2}{2}\}$  

![](image-2.png =200x200)  
위 함수로 이자에 대한 이자를 표현할 수 있다.  

이런식으로 이자에 대한 이자, 이자에 대한 이자에 대한 이자... 를 무한히 반복하여 이자에 대한 함수를 구하고  
모두 더하면 e 에 수렴하는 값이 나올 것이다.  

$\Large e = 1 + 1 + \frac{x}{1} + \frac{x^2}{2} + ... $  

## 이자 그래프의 넓이 구하기
아까 구한 $y = \frac{x^2}{2}$ 이자에 대한 이자를 또 구하려면  
그래프의 넓이를 구하면 되는데, 이제 단순한 삼각형이 아니므로 넓이를 곧바로 구할 수 없다.  

$\bf \{y = \frac{x^2}{2}\}$  
![](image-2.png =200x200)  
위 그래프의 넓이를 구하기 위해 무수히 쪼갠다는 아이디어를 사용한다.(극한(?))  

![](image-3.png =200x200)  
일단 해당 그래프를 절반으로 쪼개어 넓이를 구해보자.  
두 개의 직사각형에 대한 넓이를 구하는 것이다.  
물론 두 직사각형의 넓이는 그래프의 넓이와 오차가 크지만,  

![](image-4.png =200x200)  
무수히 많이 쪼개면 그래프의 넓이에 수렴할 것이다.  

그렇다면 이를 식으로 표현해보자.  
그래프를 직사각형 $n$개로 무수히 쪼개어 넓이를 모두 더한다.    
직사각형의 가로는 $\frac{x}{n}$이고, 세로는 그래프 식 $\frac{x^2}{2}$에 직사각형의 끝 $x$좌표인 $k \cdot \frac{x}{n}$를 대입한 값이다.  

$
\Large
\lim\limits_{n \to \infty} \ \sum\limits_{k=1}^{n} [ \frac{x}{n} \cdot \frac{(k \frac{x}{n})^2}{2} ]
\\
\lim\limits_{n \to \infty} \ \sum\limits_{k=1}^{n} [ \frac{x}{n} \cdot k^2 \cdot \frac{x^2}{n^2} \cdot \frac{1}{2} ]
\\
\lim\limits_{n \to \infty} \ \sum\limits_{k=1}^{n} [ \frac{x^3}{2n^3} \cdot k^2 ]
\\
\lim\limits_{n \to \infty} \ \frac{x^3}{2n^3} \cdot \sum\limits_{k=1}^{n} k^2
$

이제 $\sum\limits_{k=1}^{n} k^2$를 구해야 하는데,  
$\sum\limits_{k=1}^{n} k$ 처럼 가우스 합으로 바로 구할 수 없으므로 유도해보자...    

## $\sum\limits_{k=1}^{n} k^2$ 풀기

일단 $\sum\limits_{k=1}^{n} k^2$는 3차식으로 표현할 수 있을 것이다.  
그래서 $\sum\limits_{k=1}^{n} k^3$ 형식에서 유도할 것.  

<br>  

Telescope sum을 사용한다.  
$\sum\limits_{i=0}^{k} [(i + 1)^3 - i^3]$   
이 식을 풀어보자.  

$
1^3 - 0^3 \\
2^3 - 1^3 \\
3^3 - 2^3 \\
... \\
(k + 1)^3 - k^3 \\
$

최종적으로 서로 상쇄되어 남은 $(k + 1)^3$ 이 나온다.  

<br>  

그러므로 $\sum\limits_{i=0}^{k} [(i + 1)^3 - i^3] = (k + 1)^3$ 인데,  

$(i + 3)^3 - i^3 = 3i^2 + 3i + 1$ 이므로, 다음과 같이 치환할 수 있다.  

$
\sum\limits_{i=0}^{k} [(i + 1)^3 - i^3] = 3\sum\limits_{i=0}^{k} i^2 + 3\sum\limits_{i=0}^{k} i + \sum\limits_{i=0}^{k} 1 = (k + 1)^3
$  

<br>  

$\sum\limits_{i=0}^{k} i$ 는 가우스 합으로  $\frac{k(k + 1)}{2}$ 가 되고,    
$\sum\limits_{i=0}^{k} 1$ 은 $k + 1$ 이다.  
$\sum\limits_{i=0}^{k} i^2$ 는 모르므로 이를 좌변에 두고 나머지를 우변으로 옮기면,  
