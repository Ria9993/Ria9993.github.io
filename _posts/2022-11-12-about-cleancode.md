---
layout: post
title:  "클린코드 리뷰를 읽고"
date:   2022-11-12 21:29:55 +0900
categories: CS
comments: true
---
음.  
클린코드 얘기를 하면 적을 많이 만들 것 같아서 안 하려 했으나.  
내 주관을 한번 펼쳐보는 건 나쁘지 않겠다 싶어서 적어본다.  
(의견 환영합니다. 견해를 넓혀주세요)  

클린코드는 이곳저곳에서 소문이 많이 들린다.  
내가 c/c++/c# 쪽 얘기만 들어서 그런 걸 수도 있지만,  
"클린코드는 자바 진영을 벗어나면 사이비다",  
"클린코드를 읽어버린 주니어는 가망이 없다"  
라는 극단적인 의견들이 그 소문.  
뭐 소문은 언제나 극단적이긴 하다.  

"[클린코드] 함수는 작고 간결하게"  
<https://80000coding.oopy.io/b43188a4-f855-4ab1-9c50-401626c84dcd>  
그 와중에 이 글을 아까 읽어버렸다.  

주 내용은 다음과 같다.  
```md
0. 되도록 한 함수당 3~5줄 이내로 줄이는 것을 권장한다.  
1. 중첩구조(while, if / else 등) 에 들어가는 블록은 한 줄이어야 한다.  
2. 함수는 한 가지만 해라!  
3. 함수들의 추상화 수준을 맞춰라  
```  
음..  
클린코드에서 제일 말이 많은 부분이 이거다.  
**"함수는 작아야한다. 3~5줄 이내로 줄여라"**  

이게 정말 맞나..?  
함수에 대해 나 나름대로 정한 규칙이 몇 가지 있다.  
그 중 하나는 함수는 되도록 중복되거나 될 것으로 예상되는 코드에 한해서 작성한다는 것이다.  

중복되지 않는 코드를 함수로 작성하게되면 코드를 읽기 굉장히 힘들어진다.  
함수 하나 리뷰하는데, 함수 수십 개를 뒤져가며 보아야 하고,  
유지보수는 또 어떻게 하는가. 짧은 일회성 함수가 수십갠데...  
함수 호출 오버헤드는?  
뭐 이건 컴파일러와 컴퓨터가 좋아져서 상관 없다고 하는 사람도 있지만,  
최적화 잘 해준다고 해도 빌드시간은? 애초에 인라인이 제대로 될 거라는 보장이 없다.  

클린코드 읽고 극단적으로 한 줄짜리 코드도 함수화 하는 사람도 소문만 들었지 리뷰하면서 실제로 봤다.  
왜 주니어를 버려 놓는다는지 알 것 같은 느낌.  

다른 내용도 볼까.  
```
2. 함수는 한 가지만 해라!  
3. 함수들의 추상화 수준을 맞춰라  
```  
음.. 이거 뭔가랑 비슷하다.  
SOLID 설계원칙에서 다음과 같은 내용이 있는데..  
````
Single Responsibility Principle(SRP)
- 객체는 오직 하나의 책임을 가져야 한다. (객체는 오직 하나의 변경의 이유만을 가져야 한다.)
Open-Closed Principle(OCP)
- 객체는 확장에 대해서는 개방적이고 수정에 대해서는 폐쇄적이어야 한다
```  
이거랑 느낌이 비슷하다.  
뭐가 비슷하냐면 듣는 사람마다 이 글을 이해한 내용의 편차가 너무 크다는 것이다.  

**함수는 한 가지만 해라!**
이걸 어떻게 해석해야하나.  
예를 들어 login() 이라는 함수가 있다고 가정해보자.  
이 함수는 진짜 로그인을 진행한다! 로그인 단 한가지!  
나 그러면 이제 클린코드 마스터?  

글쎄, login()을 분해하면 DB 조회, 복호화, 대조 등의 기능으로 또 나눌 수 있을 것이다.  
그럼 이 login() 함수는 정말 한 가지 만 하는 함수가 맞을까?  

이런식으로 이해하는 사람마다 제각각이라는 것이다.  
"함수들의 추상화 수준을 맞춰라" 도 비슷하다.  
약간 이해가 될 듯 하지만 이것도 내 나름대로의 해석일 것..  

이외에도 "에러코드 대신 exception을 사용하라" 등  
클린코드는 나랑 좀 안 맞는 것 같다.  

그래도 진득하게 토론해 볼 사람이 있다면 이것저것 얘기해보고 싶다.  
설계는 주관이 잔뜩잔뜩 들어가는 영역이니...  
